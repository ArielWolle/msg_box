#!/user/bin/env python
# -*- coding:utf-8 -*-
import RPi.GPIO as GPIO
from neopixel import *
import time

#LED strip config
LED_COUNT  =64
LED_PIN =18
LED_FREQ_HZ =800000
LED_DMA =5
LED_BRIGHTNESS =20
LED_INVERT = False
alph=[
[[0,0,1,1,1,1,0,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,1,1,1,1],[0,1,1,1,1,1,0,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,1,1,1,1,0,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,1,1,1,1,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0]],
[[0,0,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,0,1,0],[0,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,0]],
[[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1],[0,0,0,0,1,1,0,0],[0,0,0,0,1,1,0,0],[0,1,1,0,1,1,0,0],[0,1,1,0,1,1,0,0],[0,1,1,1,1,1,0,0],[0,0,1,1,1,0,0,0]],
[[0,1,1,0,0,1,1,1],[0,1,1,0,1,1,1,0],[0,1,1,1,1,1,0,0],[0,1,1,1,1,0,0,0],[0,1,1,1,1,1,0,0],[0,1,1,0,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,0,0,0,1,1,0]],
[[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,0,1,1,0,1,1,0],[0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1],[0,1,1,0,1,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1]],
[[0,1,1,0,0,0,1,1],[0,1,1,1,0,0,1,1],[0,1,1,1,0,0,1,1],[0,1,1,0,1,0,1,1],[0,1,1,0,1,0,1,1],[0,1,1,0,0,1,1,1],[0,1,1,0,0,1,1,1],[0,1,1,0,0,0,1,1]],
[[0,0,1,1,1,1,1,0],[0,1,1,1,1,1,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,1,1,1,1],[0,0,1,1,1,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,0,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,0,1,1]],
[[0,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,0,0,0],[0,1,1,1,1,1,0,0],[0,1,1,0,1,1,1,0],[0,1,1,0,0,1,1,1]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0]],
[[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0]],
[[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,0,1,1,1],[0,0,1,1,0,1,1,0],[0,0,1,1,0,1,1,0],[0,0,0,1,1,1,0,0],[0,0,0,1,1,1,0,0]],
[[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,0,1,0,1,1],[0,1,1,1,1,1,1,1],[0,1,1,1,0,1,1,1],[0,0,1,0,0,0,1,0]],
[[0,1,1,0,0,0,1,1],[0,1,1,1,0,1,1,1],[0,0,1,1,0,1,1,0],[0,0,1,1,1,1,1,0],[0,0,0,1,1,1,0,0],[0,0,1,1,1,1,1,0],[0,1,1,1,0,1,1,1],[0,1,1,0,0,0,1,1]],
[[0,1,1,0,0,0,1,1],[0,1,1,0,0,0,1,1],[0,1,1,1,0,1,1,1],[0,0,1,1,1,1,1,0],[0,0,0,1,1,1,0,0],[0,0,0,1,1,1,0,0],[0,0,0,1,1,1,0,0],[0,0,0,1,1,1,0,0]],
[[0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,1],[0,0,0,0,1,1,1,0],[0,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,0],[0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1]],
[[0,0,0,0,0,0,0,0],[0,1,1,0,0,1,1,0],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,0],[0,0,1,1,1,1,0,0],[0,0,0,1,1,0,0,0]]]
#object neo create
strip = Adafruit_NeoPixel(LED_COUNT, LED_PIN, LED_FREQ_HZ, LED_DMA, LED_INVERT, LED_BRIGHTNESS)
#int lib
strip.begin()
strip.show()
file = open("/home/pi/node/myapp/word.txt","r")
speed=float(file.readline())
word =file.readline()
word = word.upper()
word = list (word)
for i in range (0,len(word)):
	word[i]=ord(word[i])-64


def printLetter(stripPlace,wordNum,distance,letter):
	if (stripPlace%8-8*wordNum+distance)>=0:
			try:
				if (alph[letter-1][stripPlace//8][stripPlace%8-8*wordNum+distance]==1):
			 		strip.setPixelColor(stripPlace, Color(0,255,0))
			except:
				b=1

for j in range (0,8*(len(word)+2)+3):
	for i2 in range(0,strip.numPixels()):
		for k in range (0,len(word)):
			printLetter(i2,k+1,j,word[k])

	strip.show()
	time.sleep(speed)
	for i in range(0,strip.numPixels()):
		strip.setPixelColor(i, Color(0,0,0))
